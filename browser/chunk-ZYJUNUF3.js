import{a as V,c as j,e as W,j as q}from"./chunk-W7X3A3JX.js";import{a as $}from"./chunk-7TAAQCYB.js";import{$ as o,A as I,Aa as H,Ba as R,Ca as Y,E as h,G as S,I as t,J as a,K as C,N as x,O as u,P as b,Q as A,R as r,S as d,T as f,V as L,W as w,X as M,_ as k,aa as p,ba as B,f as _,ha as D,ia as F,ja as N,k as E,ka as O,la as P,ma as U,r as T,s as y,x as n,z as g}from"./chunk-3VQSTFOE.js";var v=class s{constructor(){}getSales(){let i=new Date;return _(Array(5).fill(0).map((e,l)=>({id:l+1,date:new Date(i.getFullYear(),i.getMonth(),i.getDate()-l),product:"Producto A",quantity:10,status:"Completado",client:"Cliente A"})))}static \u0275fac=function(e){return new(e||s)};static \u0275prov=E({token:s,factory:s.\u0275fac,providedIn:"root"})};var J=s=>({"dark-theme":s});function K(s,i){if(s&1){let e=x();t(0,"tr",13),u("click",function(){let c=T(e).$implicit,m=b();return y(m.selectSale(c))}),t(1,"td"),r(2),o(3,"date"),a(),t(4,"td"),r(5),a(),t(6,"td"),r(7),a(),t(8,"td")(9,"span",14),r(10),o(11,"translate"),a()(),t(12,"td"),r(13),a()()}if(s&2){let e=i.$implicit;n(2),d(B(3,6,e.date,"dd MMM yyyy")),n(3),d(e.product),n(2),d(e.quantity),n(2),S("ngClass","status-"+e.status.toLowerCase()),n(),f(" ",p(11,9,"SALES.STATUS_"+e.status.toUpperCase())," "),n(3),d(e.client)}}function X(s,i){s&1&&(t(0,"div",15),C(1,"div",16),t(2,"p"),r(3,"Cargando..."),a()())}var Q=class s{constructor(i,e){this.salesService=i;this.themeService=e}sales=[];filteredSales=[];loading=!1;searchTerm="";ngOnInit(){this.loading=!0,this.salesService.getSales().subscribe(i=>{this.sales=i,this.filteredSales=[...i],this.loading=!1})}searchSales(){if(!this.searchTerm.trim()){this.filteredSales=[...this.sales];return}let i=this.searchTerm.toLowerCase().trim();this.filteredSales=this.sales.filter(e=>e.product.toLowerCase().includes(i)||e.client.toLowerCase().includes(i)||e.status.toLowerCase().includes(i))}addSale(){alert("Funcionalidad para agregar venta")}selectSale(i){alert(`Venta seleccionada: ${i.id}`)}static \u0275fac=function(e){return new(e||s)(g(v),g(Y))};static \u0275cmp=I({type:s,selectors:[["app-sales"]],decls:40,vars:35,consts:[[1,"app-container",3,"ngClass"],[1,"sales-container"],[1,"sales-header"],[1,"page-title"],[1,"sales-actions"],[1,"search-box"],["type","text",1,"search-input",3,"ngModelChange","input","ngModel","placeholder"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"sales-table-container"],[1,"sales-table"],[3,"click",4,"ngFor","ngForOf"],["class","sales-loading",4,"ngIf"],[3,"click"],[1,"status-badge",3,"ngClass"],[1,"sales-loading"],[1,"spinner"]],template:function(e,l){e&1&&(t(0,"div",0),o(1,"async"),C(2,"app-header"),t(3,"div",1)(4,"div",2)(5,"h1",3),r(6),o(7,"translate"),a(),t(8,"div",4)(9,"div",5)(10,"input",6),o(11,"translate"),M("ngModelChange",function(m){return w(l.searchTerm,m)||(l.searchTerm=m),m}),u("input",function(){return l.searchSales()}),a()(),t(12,"button",7),u("click",function(){return l.selectSale(l.filteredSales[0])}),r(13),o(14,"translate"),a(),t(15,"button",8),u("click",function(){return l.addSale()}),r(16),o(17,"translate"),a()()(),t(18,"div",9)(19,"table",10)(20,"thead")(21,"tr")(22,"th"),r(23),o(24,"translate"),a(),t(25,"th"),r(26),o(27,"translate"),a(),t(28,"th"),r(29),o(30,"translate"),a(),t(31,"th"),r(32),o(33,"translate"),a(),t(34,"th"),r(35),o(36,"translate"),a()()(),t(37,"tbody"),h(38,K,14,11,"tr",11),a()(),h(39,X,4,0,"div",12),a()()()),e&2&&(S("ngClass",k(33,J,p(1,13,l.themeService.isDarkTheme$))),n(6),d(p(7,15,"SALES.TITLE")),n(4),A("placeholder",p(11,17,"SALES.SEARCH")),L("ngModel",l.searchTerm),n(3),f(" ",p(14,19,"SALES.SELECT")," "),n(3),f(" ",p(17,21,"SALES.ADD")," "),n(7),d(p(24,23,"SALES.DATE")),n(3),d(p(27,25,"SALES.PRODUCT")),n(3),d(p(30,27,"SALES.QUANTITY")),n(3),d(p(33,29,"SALES.STATUS")),n(3),d(p(36,31,"SALES.CLIENT")),n(3),S("ngForOf",l.filteredSales),n(),S("ngIf",l.loading))},dependencies:[U,D,F,N,O,P,q,V,j,W,R,H,$],encapsulation:2})};export{Q as SalesComponent};
